data = {
        "extensions": [],
        "max_size": {},
        "path": {}
    }

    # Traiter chaque ligne
    for line in lines:
        line = line.strip()  # Enlever les espaces et les retours à la ligne
        if line and not line.startswith("#"):  # Ignorer les lignes vides et les commentaires
            # Analyser les différentes sections
            if "extensions" in line:
                # Extraire les extensions
                data["extensions"] = line.split("=")[1].split(",")
            elif "max_size" in line:
                # Extraire la taille maximale pour chaque extension
                part, size = line.split("=")
                extension = part.split("/")[1]
                data["max_size"][extension] = int(size)
            elif "path" in line:
                # Extraire le chemin pour chaque extension
                part, path = line.split("=")
                extension = part.split("/")[1]
                data["path"][extension] = path

    return data


# Spécifie le chemin du fichier de configuration
config_path = r"C:\Users\USER\Documents\rules_gr_11.txt"

# Appeler la fonction pour obtenir les données structurées
config_data = read_config_file(config_path)

# Afficher les données structurées
print(config_data)
